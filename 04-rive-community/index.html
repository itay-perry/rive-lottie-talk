<!DOCTYPE html>
<html>

<head>
  <link rel="stylesheet" href="styles.css" />
  <title>Rive Data Binding</title>
</head>

<body>
  <div id="container">
    <canvas id="canvas" width="800" height="800"></canvas>
  </div>
  <script src="https://unpkg.com/@rive-app/webgl2"></script>
  <script>
    let moveX;
    let moveY;
    const canvas = document.getElementById("canvas");
    const r = new rive.Rive({
      src: "./girl_animation_(cursor_tracking).riv",
      canvas: document.getElementById("canvas"),
      autoBind: true,
      autoplay: true,
      onLoad: () => {
        r.resizeDrawingSurfaceToCanvas();
        // Access the current instance that was auto-bound
        const namedVM = r.viewModelByName("View Model 1");
        const vmiDefault = namedVM.defaultInstance();
        r.bindViewModelInstance(vmiDefault);
        moveY = vmiDefault.number("Mouse Y");
        moveX = vmiDefault.number("Mouse X");
        console.log(moveY, moveX);
      },
    });

    // DOM loaded
    document.addEventListener("DOMContentLoaded", () => {
      debugger;
      // listener for mouse coordianted x, y
      canvas.addEventListener("mousemove", (e) => {
        const x = e.clientX;
        const y = e.clientY;
        console.log(y, x);
        moveY.value = y;
        moveX.value = x;
        // console.log(x, y);
      });
    });



  </script>
</body>

</html>