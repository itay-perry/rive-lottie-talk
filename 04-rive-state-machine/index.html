<!DOCTYPE html>
<html>

<head>
  <link rel="stylesheet" href="styles.css" />
</head>

<body>
  <div id="container">
    <canvas id="canvas" width="500" height="500"></canvas>
    <div id="radioContainer">
      <label class="radio-label">
        <input type="radio" name="dayNight" value="1" checked />
        Day ☀️
      </label>
      <label class="radio-label">
        <input type="radio" name="dayNight" value="2" />
        Night 🌙
      </label>
    </div>
  </div>


  <script src="https://unpkg.com/@rive-app/webgl2"></script>
  <script>
    let movementInput;
    const r = new rive.Rive({
      src: "./sun_and_moon.riv",
      canvas: document.getElementById("canvas"),
      stateMachines: "State Machine 1",
      autoplay: true,
      onLoad: () => {
        r.resizeDrawingSurfaceToCanvas();
        movementInput = r.stateMachineInputs("State Machine 1")[0];
      },
    });

    function updateMovementValue(value) {
      movementInput.value = value;
    }

    document.addEventListener("DOMContentLoaded", () => {
      const radioInputs = document.querySelectorAll('input[name="dayNight"]');

      radioInputs.forEach(radio => {
        radio.addEventListener("change", e => e.target.checked && movementInput && updateMovementValue(e.target.value));
      });

      updateMovementValue(document.querySelector('input[name="dayNight"]:checked')?.value);
    });
  </script>
</body>

</html>